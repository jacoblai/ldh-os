# LDH-OS内核配置文件
# 基于LLM驱动操作系统的应用场景需求定制

#
# 处理器和基础系统支持
#
CONFIG_64BIT=y
CONFIG_X86_64=y
CONFIG_SMP=y
# 支持多核处理器
CONFIG_NR_CPUS=32
# 提高系统响应性
CONFIG_PREEMPT=y
# 高精度时钟
CONFIG_HZ_1000=y
CONFIG_PREEMPT_VOLUNTARY=n
# 实时性支持
CONFIG_PREEMPT_RT=y
# 高精度定时器
CONFIG_HIGH_RES_TIMERS=y
# 降低处理器中断
CONFIG_NO_HZ_FULL=y
# RCU优先级提升
CONFIG_RCU_BOOST=y
# 核心调度器
CONFIG_SCHED_CORE=y
# SMT调度器
CONFIG_SCHED_SMT=y
# 自动分组调度
CONFIG_SCHED_AUTOGROUP=y
# 控制组调度
CONFIG_CGROUP_SCHED=y

#
# 内存管理
#
# 大页面支持，优化LLM内存访问
CONFIG_TRANSPARENT_HUGEPAGE=y
# NUMA支持，优化多处理器系统
CONFIG_NUMA=y
# 内存热插拔
CONFIG_MEMORY_HOTPLUG=y
# 大页面文件系统支持
CONFIG_HUGETLBFS=y
# 连续内存分配器
CONFIG_CMA=y
# 内存压缩支持
CONFIG_ZSWAP=y
# 内存压缩
CONFIG_ZRAM=y

#
# 执行格式支持
#
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_SCRIPT=y
# 支持更多可执行格式
CONFIG_BINFMT_MISC=y
# 核心转储支持
CONFIG_COREDUMP=y

#
# 模块支持
#
# 可加载内核模块
CONFIG_MODULES=y
# 支持卸载模块
CONFIG_MODULE_UNLOAD=y
# 强制卸载模块支持
CONFIG_MODULE_FORCE_UNLOAD=y
# 模块版本支持
CONFIG_MODVERSIONS=y

#
# CPU功能和设备支持
#
# CPU频率调节
CONFIG_CPU_FREQ=y
# CPU空闲状态
CONFIG_CPU_IDLE=y
# Intel CPU空闲特性
CONFIG_INTEL_IDLE=y
# AMD CPU状态控制
CONFIG_AMD_PSTATE=y
# Intel TSX支持
CONFIG_X86_INTEL_TSX_MODE_ON=y
# 虚拟化支持
CONFIG_KVM=y
# Intel虚拟化
CONFIG_KVM_INTEL=y
# AMD虚拟化
CONFIG_KVM_AMD=y

#
# AI加速器支持（为LLM运行优化）
#
# Intel IOMMU支持
CONFIG_INTEL_IOMMU=y
# AMD IOMMU支持
CONFIG_AMD_IOMMU=y
# AMD GPU支持
CONFIG_DRM_AMDGPU=y

#
# 输入设备支持
#
CONFIG_INPUT=y
CONFIG_INPUT_KEYBOARD=y
CONFIG_INPUT_MOUSE=y
CONFIG_INPUT_TOUCHSCREEN=y
CONFIG_INPUT_MISC=y
# 事件接口
CONFIG_INPUT_EVDEV=y
CONFIG_USB_HID=y

#
# 多媒体支持（为语音交互服务）
#
CONFIG_MEDIA_SUPPORT=y
CONFIG_MEDIA_USB_SUPPORT=y
CONFIG_USB_VIDEO_CLASS=y
CONFIG_V4L_PLATFORM_DRIVERS=y
CONFIG_VIDEO_V4L2=y
CONFIG_VIDEO_DEV=y
# 媒体控制器
CONFIG_MEDIA_CONTROLLER=y
CONFIG_MEDIA_SUBDRV_AUTOSELECT=y

#
# 音频支持（高质量音频处理）
#
CONFIG_SOUND=y
CONFIG_SND=y
# 支持更多音频设备
CONFIG_SND_DYNAMIC_MINORS=y
CONFIG_SND_USB_AUDIO=y
CONFIG_SND_HDA_INTEL=y
CONFIG_SND_HDA_CODEC_REALTEK=y
CONFIG_SND_HDA_CODEC_HDMI=y
CONFIG_SND_SOC=y
# 音频插孔检测
CONFIG_SND_JACK=y
# PCM定时器
CONFIG_SND_PCM_TIMER=y
# MIDI序列器支持
CONFIG_SND_SEQUENCER=y
# MIDI设备支持
CONFIG_SND_SEQ_MIDI=y
# 原始MIDI接口
CONFIG_SND_RAWMIDI=y
# 高精度音频定时器
CONFIG_SND_HRTIMER=y
# OSS兼容接口
CONFIG_SND_PCM_OSS=y

#
# 显示支持
#
CONFIG_DRM=y
# Intel显卡支持
CONFIG_DRM_I915=y
# AMD显卡支持
CONFIG_DRM_AMD_DC=y
# 较老的AMD显卡
CONFIG_DRM_RADEON=y
# NVIDIA显卡开源驱动
CONFIG_DRM_NOUVEAU=y
CONFIG_FB=y
CONFIG_FB_MODE_HELPERS=y
# EFI帧缓冲区
CONFIG_FB_EFI=y
# 帧缓冲控制台
CONFIG_FRAMEBUFFER_CONSOLE=y
# 启动Logo支持
CONFIG_LOGO=y

#
# 网络支持（为MCP协议和系统通信）
#
CONFIG_NET=y
# 数据包套接字
CONFIG_PACKET=y
# UNIX域套接字
CONFIG_UNIX=y
# Internet协议
CONFIG_INET=y
# IP多播
CONFIG_IP_MULTICAST=y
# 高级路由
CONFIG_IP_ADVANCED_ROUTER=y
CONFIG_IPV6=y
CONFIG_NETFILTER=y
# 连接跟踪
CONFIG_NF_CONNTRACK=y
# IP防火墙
CONFIG_IP_NF_IPTABLES=y
# NAT支持
CONFIG_IP_NF_TARGET_MASQUERADE=y
CONFIG_BRIDGE=y
# VLAN支持
CONFIG_VLAN_8021Q=y
# 网络流量控制
CONFIG_NET_SCHED=y
CONFIG_WIRELESS=y
CONFIG_WLAN=y
# Intel无线网卡
CONFIG_WLAN_VENDOR_INTEL=y
# Realtek无线网卡
CONFIG_WLAN_VENDOR_REALTEK=y
CONFIG_BLUETOOTH=y
CONFIG_BT_HCIBTUUSB=y
# 蓝牙HID设备支持
CONFIG_BT_HIDP=y
# 蓝牙LED指示灯
CONFIG_BT_LEDS=y
# 无线开关
CONFIG_RFKILL=y

#
# IPC和消息队列（为MCP协议优化）
#
# POSIX消息队列
CONFIG_POSIX_MQUEUE=y
# SystemV IPC
CONFIG_SYSVIPC=y
# memfd创建支持
CONFIG_MEMFD_CREATE=y
# 进程检查点恢复
CONFIG_CHECKPOINT_RESTORE=y

#
# 存储支持（为图数据库优化）
#
CONFIG_BLOCK=y
CONFIG_BLK_DEV_SD=y
# 块设备SCSI通用
CONFIG_BLK_DEV_BSG=y
# 块设备限流
CONFIG_BLK_DEV_THROTTLING=y
# 块设备完整性
CONFIG_BLK_DEV_INTEGRITY=y
# 分区块设备
CONFIG_BLK_DEV_ZONED=y
# NVMe支持
CONFIG_NVME_CORE=y
# NVMe多路径
CONFIG_NVME_MULTIPATH=y
CONFIG_ATA=y
CONFIG_SATA_AHCI=y
# 移动设备低功耗策略
CONFIG_SATA_MOBILE_LPM_POLICY=3
# 软件RAID
CONFIG_MD=y
CONFIG_BLK_DEV_MD=y
# RAID 0
CONFIG_MD_RAID0=y
# RAID 1
CONFIG_MD_RAID1=y
# RAID 10
CONFIG_MD_RAID10=y
# 设备加密
CONFIG_DM_CRYPT=y

#
# 文件系统支持
#
CONFIG_EXT4_FS=y
CONFIG_EXT4_USE_FOR_EXT2=y
# 支持POSIX ACL
CONFIG_EXT4_FS_POSIX_ACL=y
# 扩展安全属性
CONFIG_EXT4_FS_SECURITY=y
# BTRFS支持（适合大文件存储）
CONFIG_BTRFS_FS=y
CONFIG_BTRFS_FS_POSIX_ACL=y
# XFS文件系统
CONFIG_XFS_FS=y
# F2FS文件系统（针对SSD优化）
CONFIG_F2FS_FS=y
# 用户空间文件系统
CONFIG_FUSE_FS=y
# 覆盖文件系统（容器支持）
CONFIG_OVERLAY_FS=y
CONFIG_ISO9660_FS=y
CONFIG_JOLIET=y
CONFIG_ZISOFS=y
# UDF文件系统（光盘）
CONFIG_UDF_FS=y
CONFIG_FAT_FS=y
CONFIG_MSDOS_FS=y
CONFIG_VFAT_FS=y
CONFIG_NTFS_FS=y
# 新版NTFS支持
CONFIG_NTFS3_FS=y
CONFIG_PROC_FS=y
CONFIG_PROC_SYSCTL=y
CONFIG_SYSFS=y
CONFIG_TMPFS=y
CONFIG_TMPFS_POSIX_ACL=y
# 配置文件系统
CONFIG_CONFIGFS_FS=y

#
# USB支持
#
CONFIG_USB=y
# USB 3.0
CONFIG_USB_XHCI_HCD=y
# USB 2.0
CONFIG_USB_EHCI_HCD=y
# USB 1.1
CONFIG_USB_OHCI_HCD=y
CONFIG_USB_STORAGE=y
# USB附加存储协议
CONFIG_USB_UAS=y
# USB串口
CONFIG_USB_SERIAL=y
CONFIG_USB_SERIAL_CONSOLE=y
CONFIG_USB_PRINTER=y
# USB调制解调器
CONFIG_USB_ACM=y
# 公告新USB设备
CONFIG_USB_ANNOUNCE_NEW_DEVICES=y

#
# 电源管理
#
CONFIG_ACPI=y
# ACPI热管理
CONFIG_ACPI_THERMAL=y
CONFIG_PM=y
CONFIG_PM_SLEEP=y
# 自动睡眠
CONFIG_PM_AUTOSLEEP=y
# 唤醒锁
CONFIG_PM_WAKELOCKS=y
# Intel P-state
CONFIG_INTEL_PSTATE=y
# 电源上限管理
CONFIG_POWERCAP=y
# Intel RAPL支持
CONFIG_INTEL_RAPL=y

#
# 安全特性
#
CONFIG_SECURITY=y
CONFIG_SECURITY_SELINUX=y
CONFIG_SECURITY_SELINUX_BOOTPARAM=y
CONFIG_SECURITY_APPARMOR=y
# Yama LSM
CONFIG_SECURITY_YAMA=y
# 完整性子系统
CONFIG_INTEGRITY=y
# 完整性度量架构
CONFIG_IMA=y
# 扩展验证模块
CONFIG_EVM=y
CONFIG_CRYPTO=y
CONFIG_CRYPTO_USER=y
# 加密API
CONFIG_CRYPTO_CRYPTD=y
# AES加密
CONFIG_CRYPTO_AES=y
# GCM模式
CONFIG_CRYPTO_GCM=y
# ChaCha20-Poly1305
CONFIG_CRYPTO_CHACHA20POLY1305=y
# SHA256哈希
CONFIG_CRYPTO_SHA256=y
# SHA512哈希
CONFIG_CRYPTO_SHA512=y
# 确定性随机位生成器
CONFIG_CRYPTO_DRBG_MENU=y
CONFIG_CRYPTO_USER_API_HASH=y
CONFIG_CRYPTO_USER_API_SKCIPHER=y

#
# 容器和隔离支持
#
# 命名空间
CONFIG_NAMESPACES=y
# UTS命名空间
CONFIG_UTS_NS=y
# IPC命名空间
CONFIG_IPC_NS=y
# 用户命名空间
CONFIG_USER_NS=y
# PID命名空间
CONFIG_PID_NS=y
# 网络命名空间
CONFIG_NET_NS=y
# 控制组
CONFIG_CGROUPS=y
CONFIG_CGROUP_FREEZER=y
CONFIG_CGROUP_DEVICE=y
# CPU资源记账
CONFIG_CGROUP_CPUACCT=y
# BPF程序附加
CONFIG_CGROUP_BPF=y
# Berkeley Packet Filter
CONFIG_BPF=y
# BPF系统调用
CONFIG_BPF_SYSCALL=y
# BPF JIT编译
CONFIG_BPF_JIT=y
# 虚拟以太网对
CONFIG_VETH=y

#
# 调试支持
#
CONFIG_DEBUG_KERNEL=y
CONFIG_DEBUG_INFO=y
# 函数跟踪
CONFIG_FTRACE=y
CONFIG_FUNCTION_TRACER=y
CONFIG_FUNCTION_GRAPH_TRACER=y
CONFIG_STACK_TRACER=y
# 动态调试
CONFIG_DYNAMIC_DEBUG=y
# 调试文件系统
CONFIG_DEBUG_FS=y
# 内核调试器
CONFIG_KGDB=y
# 内核探针
CONFIG_KPROBES=y
# 用户空间探针
CONFIG_UPROBES=y
# 跟踪点
CONFIG_TRACEPOINTS=y
# 返回探针
CONFIG_KRETPROBES=y
# 块I/O跟踪
CONFIG_BLK_DEV_IO_TRACE=y

#
# 日志和审计
#
CONFIG_PRINTK=y
# 打印时间戳
CONFIG_PRINTK_TIME=y
# 所有符号
CONFIG_KALLSYMS=y
CONFIG_KALLSYMS_ALL=y
# 审计支持
CONFIG_AUDIT=y
# 系统调用审计
CONFIG_AUDITSYSCALL=y
# 文件监视
CONFIG_AUDIT_WATCH=y
# 目录树监视
CONFIG_AUDIT_TREE=y 